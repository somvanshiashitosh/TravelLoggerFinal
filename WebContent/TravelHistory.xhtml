<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<script type="text/javascript">
		history.pushState(null, null, location.href);
		window.onpopstate = function() {
			history.go(1);
		};
	</script>
	<title>Travel History</title>

	<meta charset="utf-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta http-equiv="x-ua-compatible" content="ie=edge" />

	<!-- Bootstrap CSS -->
	<h:outputStylesheet name="css/bootstrap/bootstrap.min.css" />
	<h:outputStylesheet name="css/custom/resourcetracker.css" />
	<h:outputStylesheet name="css/custom/travelLogger.css" />
	<h:outputStylesheet name="fonts/css/font-awesome.min.css" />

	<!-- jQuery first, then Tether, then Bootstrap JS. -->
	<h:outputScript name="tether-1.3.3/dist/js/tether.min.js" />
	<h:outputScript name="js/bootstrap/bootstrap.min.js" />
</h:head>

<h:body>

	<ui:include src="/WEB-INF/header.xhtml" />
	<ui:include src="/WEB-INF/footer.xhtml" />
	<h:panelGroup layout="block" styleClass="container-fluid">
		<h:panelGroup layout="block" styleClass="row">
			<ui:include src="/WEB-INF/sidebar.xhtml" />
			<h:panelGroup layout="block"
				class="col-xs-10 col-sm-9 offset-md-2 col-md-10 main">
				<h4>Travel History</h4>
				<h:panelGroup layout="block" class="row">
					<h:panelGroup layout="block" class="col-md-12">
						<h:form>
							<p:dataTable emptyMessage="No Travel Found"
								style="margin-bottom:100px; margin-right:100px"
								scrollWidth="2000" id="travelTable" var="travel"
								value="#{travelHistoryBean.travels}" scrollable="true">
								<p:column headerText="Traveller Name">
									<h:outputText value="#{travel.travellerName}" />
								</p:column>
								<p:column headerText="Customer Name">
									<h:outputText value="#{travel.customerName}" />
								</p:column>
								<p:column headerText="Project Name">
									<h:outputText value="#{travel.projectName}" />
								</p:column>
								<p:column headerText="Project Code">
									<h:outputText value="#{travel.projectCode}" />
								</p:column>
								<p:column headerText="Designation">
									<h:outputText value="#{travel.designation}" />
								</p:column>
								<p:column headerText="Travel Destination">
									<h:outputText value="#{travel.travelDestination}" />
								</p:column>
								<p:column headerText="Travel Start Date">
									<h:outputText value="#{travel.travelStartDate}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Travel End Date">
									<h:outputText value="#{travel.travelEndDate}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Visa Status">
									<h:outputText value="#{travel.visaStatus}" />
								</p:column>
								<p:column headerText="Project Initiation Date">
									<h:outputText value="#{travel.projectInitiationDate}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Project Confirmation Date">
									<h:outputText value="#{travel.projectConfirmationDate}">
										<f:convertDateTime pattern="dd/MM/yyyy" />
									</h:outputText>
								</p:column>
								<p:column headerText="Cost Covered By">
									<h:outputText value="#{travel.costCovered}" />
								</p:column>
								<p:column headerText="Scope Of Work">
									<h:outputText value="#{travel.scopeWork}" />
								</p:column>								
								<p:column headerText="Project Level Approval Status">
									<h:commandLink id="PL-link" value="#{travel.projectLevel}"></h:commandLink>
								</p:column>
								<p:column headerText="Location Head Approval Status">
									<h:commandLink id="LA-link" value="#{travel.locationHead}"></h:commandLink>
								</p:column>
								<p:column headerText="Ps Leader Approval Status">
									<h:commandLink id="PS-link" value="#{travel.psHead}"></h:commandLink>
								</p:column>
							</p:dataTable>
						</h:form>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
	</h:panelGroup>
</h:body>
</html>
